<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Home Aluno - GYM CONTROL</title>
  <style>
    /* (mesmo estilo do exemplo anterior, removi aqui pra foco no script) */
  </style>
</head>
<body>
  <header>
    <h1>Bem-vindo, <span id="nomeAluno"></span></h1>
    <button id="btnLogout">Sair</button>
  </header>

  <nav>
    <button class="tabBtn active" data-tab="treinos_aluno.html">Treinos</button>
    <button class="tabBtn" data-tab="mensalidade_aluno.html">Mensalidade</button>
    <button class="tabBtn" data-tab="presenca_aluno.html">Presença</button>
  </nav>

  <main id="conteudoPrincipal">
    <!-- conteúdo carregado aqui -->
  </main>

  <script>
    // Carregar nome do aluno
    function carregarNomeAluno() {
      const usuarioLogado = JSON.parse(localStorage.getItem('usuarioLogado'));
      if (usuarioLogado && usuarioLogado.tipo === 'aluno') {
        document.getElementById('nomeAluno').textContent = usuarioLogado.nome;
      } else {
        window.location.href = 'index.html';
      }
    }

    // Logout
    document.getElementById('btnLogout').addEventListener('click', () => {
      localStorage.removeItem('usuarioLogado');
      window.location.href = 'index.html';
    });

    // Função para carregar conteúdo HTML via fetch
    async function carregarConteudo(url) {
      try {
        const resposta = await fetch(url);
        if (!resposta.ok) throw new Error('Erro ao carregar conteúdo');
        const html = await resposta.text();
        document.getElementById('conteudoPrincipal').innerHTML = html;
        // Se precisar rodar script do conteúdo carregado, faz aqui
      } catch (e) {
        document.getElementById('conteudoPrincipal').innerHTML = `<p>Erro ao carregar o conteúdo.</p>`;
      }
    }

    // Controle das abas
    const tabs = document.querySelectorAll('.tabBtn');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        carregarConteudo(tab.getAttribute('data-tab'));
      });
    });

    // Inicializa carregando a primeira aba
    carregarNomeAluno();
    carregarConteudo('treinos_aluno.html');
  </script>
</body>
</html>
